diff a/src/percpu.rs b/src/percpu.rs	(rejected hunks)
@@ -55,7 +55,7 @@ impl PerCpu {
     }
     pub fn activate_vmm(&mut self) -> HvResult {
         ACTIVATED_CPUS.fetch_add(1, Ordering::SeqCst);
-        HCR_EL2.write(HCR_EL2::RW::EL1IsAarch64 + HCR_EL2::TSC::EnableTrapSmcToEl2);
+        HCR_EL2.modify(HCR_EL2::RW::EL1IsAarch64 + HCR_EL2::TSC::EnableTrapSmcToEl2);
         self.return_linux()?;
         unreachable!()
     }
